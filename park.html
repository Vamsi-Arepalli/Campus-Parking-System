<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KL University - Smart Parking System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #1a237e;
            --primary-light: #534bae;
            --primary-dark: #000051;
            --secondary: #00b0ff;
            --secondary-light: #69e2ff;
            --secondary-dark: #0081cb;
            --accent: #ff4081;
            --success: #00c853;
            --success-light: #5efc82;
            --warning: #ff9100;
            --danger: #ff1744;
            --dark: #263238;
            --light: #f5f7fa;
            --gray: #78909c;
            --surface: #ffffff;
            --background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
        }
        
        body {
            background: var(--light);
            color: var(--dark);
            line-height: 1.7;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }
        
        /* Glass Morphism Effects */
        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        .glass-dark {
            background: rgba(26, 35, 126, 0.85);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 12px;
        }
        
        ::-webkit-scrollbar-track {
            background: linear-gradient(180deg, #f5f7fa 0%, #e3e8f7 100%);
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, var(--secondary) 0%, var(--primary-light) 100%);
            border-radius: 10px;
            border: 2px solid #f5f7fa;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, var(--secondary-dark) 0%, var(--primary-dark) 100%);
        }
        
        .container {
            width: 90%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header - Redesigned */
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 20px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .logo-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--secondary) 0%, var(--accent) 100%);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            box-shadow: 0 10px 20px rgba(0, 176, 255, 0.3);
            transition: all 0.3s ease;
        }
        
        .logo-icon:hover {
            transform: rotate(15deg) scale(1.1);
        }
        
        .logo-text h1 {
            font-size: 28px;
            font-weight: 700;
            background: linear-gradient(135deg, #fff 0%, var(--secondary-light) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .logo-text span {
            font-size: 14px;
            opacity: 0.9;
            letter-spacing: 1px;
        }
        
        /* Navigation - Modern Tabs */
        nav ul {
            display: flex;
            list-style: none;
            gap: 5px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 8px;
        }
        
        nav a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            padding: 12px 24px;
            border-radius: 12px;
            font-weight: 500;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        nav a::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--secondary) 0%, var(--accent) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }
        
        nav a:hover {
            color: white;
            transform: translateY(-2px);
        }
        
        nav a:hover::before {
            opacity: 0.2;
        }
        
        nav a.active {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        /* User Actions */
        .user-actions {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        /* Enhanced Button Design */
        .btn {
            padding: 14px 28px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            font-size: 15px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            display: inline-flex;
            align-items: center;
            gap: 10px;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.7s ease;
            z-index: -1;
        }
        
        .btn:hover::before {
            left: 100%;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
        }
        
        .btn:active {
            transform: translateY(-1px);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--secondary) 0%, var(--secondary-dark) 100%);
            color: white;
            box-shadow: 0 8px 25px rgba(0, 176, 255, 0.3);
        }
        
        .btn-success {
            background: linear-gradient(135deg, var(--success) 0%, #00a152 100%);
            color: white;
            box-shadow: 0 8px 25px rgba(0, 200, 83, 0.3);
        }
        
        .btn-accent {
            background: linear-gradient(135deg, var(--accent) 0%, #f50057 100%);
            color: white;
            box-shadow: 0 8px 25px rgba(255, 64, 129, 0.3);
        }
        
        .btn-outline {
            background: transparent;
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
        }
        
        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: white;
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, var(--gray) 0%, #546e7a 100%);
            color: white;
            box-shadow: 0 8px 25px rgba(120, 144, 156, 0.3);
        }
        
        .notification-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: var(--accent);
            color: white;
            font-size: 12px;
            font-weight: bold;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(255, 64, 129, 0.4);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        /* Dashboard Layout */
        .dashboard {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 30px;
            margin: 30px 0;
        }
        
        @media (max-width: 1024px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
        }
        
        /* Sidebar - Glass Design */
        .sidebar {
            background: var(--surface);
            border-radius: 24px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.08);
            position: sticky;
            top: 100px;
            height: fit-content;
        }
        
        .sidebar h3 {
            color: var(--primary);
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--light);
            font-size: 20px;
            font-weight: 700;
        }
        
        .sidebar-menu {
            list-style: none;
            margin-bottom: 30px;
        }
        
        .sidebar-menu li {
            margin-bottom: 8px;
        }
        
        .sidebar-menu a {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 16px 20px;
            color: var(--dark);
            text-decoration: none;
            border-radius: 16px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .sidebar-menu a::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 4px;
            background: linear-gradient(to bottom, var(--secondary), var(--accent));
            transform: scaleY(0);
            transition: transform 0.3s ease;
        }
        
        .sidebar-menu a:hover {
            background: linear-gradient(90deg, rgba(0, 176, 255, 0.1), transparent);
            transform: translateX(10px);
            color: var(--primary);
        }
        
        .sidebar-menu a.active {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            box-shadow: 0 10px 25px rgba(26, 35, 126, 0.3);
            transform: translateX(5px);
        }
        
        .sidebar-menu a.active::before {
            transform: scaleY(1);
        }
        
        /* Main Content */
        .main-content {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }
        
        /* Card Design */
        .card {
            background: var(--surface);
            border-radius: 24px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.08);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--secondary), var(--accent));
        }
        
        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 40px 80px rgba(0, 0, 0, 0.12);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--light);
        }
        
        .card-header h2 {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: rotate(45deg);
            animation: shimmer 3s infinite linear;
        }
        
        .stat-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 30px 60px rgba(26, 35, 126, 0.4);
        }
        
        .stat-icon {
            font-size: 32px;
            margin-bottom: 15px;
            color: var(--secondary-light);
        }
        
        .stat-number {
            font-size: 42px;
            font-weight: 800;
            margin: 15px 0;
            letter-spacing: -1px;
        }
        
        .stat-label {
            font-size: 15px;
            opacity: 0.9;
            letter-spacing: 0.5px;
        }
        
        /* Parking Grid - Modern Cards */
        .parking-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .parking-spot {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9ff 100%);
            border-radius: 20px;
            padding: 25px 20px;
            text-align: center;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            border: 2px solid transparent;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
            position: relative;
            overflow: hidden;
        }
        
        .parking-spot::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            transition: background-color 0.3s ease;
        }
        
        .parking-spot.available::before {
            background: linear-gradient(90deg, var(--success), var(--success-light));
        }
        
        .parking-spot.occupied::before {
            background: linear-gradient(90deg, var(--danger), #ff616f);
        }
        
        .parking-spot.reserved::before {
            background: linear-gradient(90deg, var(--warning), #ffb74d);
        }
        
        .parking-spot:hover {
            transform: translateY(-8px) scale(1.05);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
            border-color: var(--secondary);
        }
        
        .spot-number {
            font-size: 24px;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 8px;
        }
        
        .spot-zone {
            font-size: 13px;
            color: var(--gray);
            margin-bottom: 15px;
            letter-spacing: 1px;
        }
        
        .spot-status {
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 700;
            letter-spacing: 0.5px;
            display: inline-block;
            text-transform: uppercase;
        }
        
        .available .spot-status {
            background: linear-gradient(135deg, var(--success), #00e676);
            color: white;
        }
        
        .occupied .spot-status {
            background: linear-gradient(135deg, var(--danger), #ff5252);
            color: white;
        }
        
        .reserved .spot-status {
            background: linear-gradient(135deg, var(--warning), #ffa726);
            color: white;
        }
        
        /* Form Styles */
        .reservation-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 12px;
            font-weight: 600;
            color: var(--primary);
            font-size: 15px;
        }
        
        .form-control {
            width: 100%;
            padding: 16px 20px;
            border: 2px solid #e1e5f1;
            border-radius: 16px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: var(--light);
        }
        
        .form-control:focus {
            border-color: var(--secondary);
            outline: none;
            box-shadow: 0 0 0 4px rgba(0, 176, 255, 0.1);
            transform: translateY(-2px);
        }
        
        /* Table Styles */
        .table-container {
            overflow-x: auto;
            border-radius: 20px;
            border: 2px solid var(--light);
        }
        
        .data-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
        }
        
        .data-table th {
            padding: 20px;
            text-align: left;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            font-weight: 600;
            border-bottom: 3px solid var(--secondary);
            position: sticky;
            top: 0;
        }
        
        .data-table td {
            padding: 20px;
            border-bottom: 1px solid var(--light);
            transition: background-color 0.3s ease;
        }
        
        .data-table tr {
            transition: all 0.3s ease;
        }
        
        .data-table tr:hover {
            background: linear-gradient(90deg, rgba(0, 176, 255, 0.05), transparent);
            transform: translateX(5px);
        }
        
        /* Parking Map - 3D Effect */
        .parking-map-container {
            width: 100%;
            height: 500px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 24px;
            position: relative;
            overflow: hidden;
            margin-bottom: 30px;
            perspective: 1000px;
        }
        
        .parking-lot {
            position: absolute;
            width: 80%;
            height: 70%;
            background: linear-gradient(135deg, #455a64 0%, #37474f 100%);
            border-radius: 16px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotateX(5deg);
            box-shadow: 0 40px 80px rgba(0, 0, 0, 0.3);
        }
        
        .parking-zone {
            position: absolute;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%);
            border-radius: 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 18px;
            color: var(--primary);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.3);
            overflow: hidden;
            text-align: center;
            padding: 20px;
        }
        
        .parking-zone::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: inherit;
            opacity: 0.8;
        }
        
        .parking-zone:hover {
            transform: scale(1.1) translateZ(20px);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.4);
            z-index: 100;
        }
        
        .zone-a {
            background: linear-gradient(135deg, rgba(0, 200, 83, 0.9) 0%, rgba(0, 230, 118, 0.9) 100%);
            color: white;
            width: 35%;
            height: 25%;
            top: 12%;
            left: 12%;
        }
        
        .zone-b {
            background: linear-gradient(135deg, rgba(0, 176, 255, 0.9) 0%, rgba(30, 136, 229, 0.9) 100%);
            color: white;
            width: 35%;
            height: 25%;
            top: 12%;
            right: 12%;
        }
        
        .zone-c {
            background: linear-gradient(135deg, rgba(156, 39, 176, 0.9) 0%, rgba(186, 104, 200, 0.9) 100%);
            color: white;
            width: 35%;
            height: 25%;
            bottom: 12%;
            left: 12%;
        }
        
        .zone-d {
            background: linear-gradient(135deg, rgba(255, 193, 7, 0.9) 0%, rgba(255, 213, 79, 0.9) 100%);
            color: white;
            width: 35%;
            height: 25%;
            bottom: 12%;
            right: 12%;
        }
        
        /* Footer */
        footer {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 50px 0 30px;
            margin-top: 80px;
        }
        
        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 30px;
        }
        
        .footer-links {
            display: flex;
            gap: 30px;
        }
        
        .footer-links a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .footer-links a:hover {
            color: var(--secondary-light);
            transform: translateY(-2px);
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background: var(--surface);
            border-radius: 32px;
            padding: 50px;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            animation: modalSlideIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 50px 100px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 40px;
            right: 40px;
            background: linear-gradient(135deg, var(--success) 0%, #00e676 100%);
            color: white;
            padding: 25px 35px;
            border-radius: 20px;
            box-shadow: 0 25px 50px rgba(0, 200, 83, 0.3);
            transform: translateX(100px);
            opacity: 0;
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 3000;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            max-width: 400px;
        }
        
        .toast.show {
            transform: translateX(0);
            opacity: 1;
        }
        
        .toast.error {
            background: linear-gradient(135deg, var(--danger) 0%, #ff5252 100%);
            box-shadow: 0 25px 50px rgba(255, 23, 68, 0.3);
        }
        
        .toast.warning {
            background: linear-gradient(135deg, var(--warning) 0%, #ffa726 100%);
            box-shadow: 0 25px 50px rgba(255, 145, 0, 0.3);
        }
        
        .toast.info {
            background: linear-gradient(135deg, var(--secondary) 0%, #0091ea 100%);
            box-shadow: 0 25px 50px rgba(0, 176, 255, 0.3);
        }
        
        /* Loading Spinner */
        .spinner {
            border: 4px solid rgba(0, 176, 255, 0.1);
            border-top: 4px solid var(--secondary);
            border-right: 4px solid var(--secondary);
            border-bottom: 4px solid var(--secondary);
            border-radius: 50%;
            width: 60px;
            height: 60px;
            animation: spin 1s cubic-bezier(0.68, -0.55, 0.265, 1.55) infinite;
            margin: 20px auto;
            box-shadow: 0 0 40px rgba(0, 176, 255, 0.3);
        }
        
        /* Floating Action Button */
        .floating-action-btn {
            position: fixed;
            bottom: 40px;
            right: 40px;
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--secondary) 0%, var(--accent) 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            box-shadow: 0 20px 40px rgba(0, 176, 255, 0.4);
            cursor: pointer;
            z-index: 1000;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: none;
        }
        
        .floating-action-btn:hover {
            transform: scale(1.1) rotate(15deg);
            box-shadow: 0 30px 60px rgba(0, 176, 255, 0.6);
        }
        
        /* Animations */
        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-100px) scale(0.8);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes shimmer {
            0% { transform: rotate(45deg) translateX(-50%); }
            100% { transform: rotate(45deg) translateX(50%); }
        }
        
        /* Welcome Section */
        .welcome-content {
            display: flex;
            align-items: center;
            gap: 40px;
            margin: 20px 0;
        }
        
        .welcome-text {
            flex: 1;
            font-size: 18px;
            line-height: 1.8;
            color: var(--dark);
        }
        
        .welcome-icon {
            font-size: 80px;
            color: var(--secondary);
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        /* Legend */
        .legend-container {
            margin-top: 30px;
            padding: 25px;
            background: var(--light);
            border-radius: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .legend-items {
            display: flex;
            gap: 25px;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 500;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 6px;
        }
        
        /* Cost Estimate */
        .cost-estimate {
            grid-column: 1 / -1;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            padding: 30px;
            border-radius: 20px;
            margin-top: 20px;
        }
        
        .cost-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .cost-amount {
            font-size: 32px;
            font-weight: 800;
        }
        
        /* FAQ Styles */
        .faq-item {
            margin-bottom: 15px;
            border: 2px solid var(--light);
            border-radius: 16px;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .faq-item:hover {
            border-color: var(--secondary);
            transform: translateY(-2px);
        }
        
        .faq-question {
            padding: 20px;
            background: var(--light);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            font-size: 16px;
        }
        
        .faq-answer {
            padding: 20px;
            display: none;
            background: white;
            line-height: 1.8;
        }
        
        /* Zone Info Cards */
        .zone-info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .zone-info-card {
            padding: 25px;
            border-radius: 20px;
            background: white;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            border-left: 6px solid var(--success);
        }
        
        .zone-info-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        .zone-b-card {
            border-left-color: var(--secondary);
        }
        
        .zone-c-card {
            border-left-color: #9b59b6;
        }
        
        .zone-d-card {
            border-left-color: var(--warning);
        }
        
        /* Section Management */
        .section {
            display: none;
            animation: fadeIn 0.5s ease-out;
        }
        
        .section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
            
            nav ul {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .parking-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }
            
            .welcome-content {
                flex-direction: column;
                text-align: center;
            }
            
            .footer-content {
                flex-direction: column;
                text-align: center;
            }
            
            .modal-content {
                padding: 30px 20px;
            }
            
            .btn {
                padding: 12px 20px;
                font-size: 14px;
            }
            
            .parking-map-container {
                height: 400px;
            }
            
            .parking-zone {
                font-size: 14px;
                padding: 15px;
            }
        }
        
        /* Dark Mode Support */
        @media (prefers-color-scheme: dark) {
            :root {
                --surface: #1e1e2e;
                --light: #2d2d3d;
                --dark: #ffffff;
            }
            
            body {
                background: #121212;
                color: #ffffff;
            }
            
            .card {
                background: var(--surface);
            }
            
            .form-control {
                background: #2d2d3d;
                border-color: #404040;
                color: #ffffff;
            }
        }
        
        /* Accessibility */
        :focus {
            outline: 3px solid var(--secondary);
            outline-offset: 2px;
        }
        
        ::selection {
            background-color: rgba(0, 176, 255, 0.3);
            color: var(--dark);
        }
        
        /* Additional Utility Classes */
        .text-center {
            text-align: center;
        }
        
        .full-width-btn {
            width: 100%;
            align-items: center;
        }
        
        .view-all-link {
            color: var(--secondary);
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .view-all-link:hover {
            color: var(--accent);
            transform: translateX(5px);
        }
        
        .sidebar-stats {
            padding: 20px;
            background: linear-gradient(135deg, rgba(0, 176, 255, 0.1), transparent);
            border-radius: 16px;
            margin-top: 20px;
        }
        
        .stats-mini {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .stats-mini div {
            font-weight: 500;
        }
        
        .stats-mini-value {
            font-weight: 700;
            color: var(--primary);
            font-size: 18px;
        }
        
        .contact-box {
            background: linear-gradient(135deg, var(--light) 0%, #e3e8f7 100%);
            padding: 30px;
            border-radius: 20px;
            transition: all 0.3s ease;
        }
        
        .contact-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        .contact-item {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
            padding: 10px 0;
        }
        
        .contact-icon {
            color: var(--secondary);
            font-size: 20px;
            width: 40px;
            height: 40px;
            background: rgba(0, 176, 255, 0.1);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .no-payment-section {
            text-align: center;
            padding: 60px 20px;
            background: linear-gradient(135deg, rgba(0, 176, 255, 0.05), transparent);
            border-radius: 20px;
            margin: 20px 0;
        }
        
        .no-payment-section i {
            font-size: 64px;
            color: var(--secondary);
            margin-bottom: 20px;
        }
        
        .payment-history-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .payment-card {
            background: white;
            padding: 25px;
            border-radius: 16px;
            border-left: 5px solid var(--success);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }
        
        .payment-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        .payment-card.pending {
            border-left-color: var(--warning);
        }
        
        .payment-card.failed {
            border-left-color: var(--danger);
        }
        
        /* NEW CSS CLASSES FOR INLINE STYLE REPLACEMENTS */
        .action-btn-small {
            padding: 8px 16px;
            font-size: 12px;
        }
        
        .btn-primary-text {
            color: var(--primary);
            border-color: var(--primary);
        }
        
        .btn-danger-text {
            color: var(--danger);
            border-color: var(--danger);
        }
        
        .primary-text {
            color: var(--primary);
        }
        
        .success-text {
            color: var(--success);
        }
        
        .warning-text {
            color: var(--warning);
        }
        
        .accent-text {
            color: var(--accent);
        }
        
        .gray-text {
            color: var(--gray);
        }
        
        .font-18 {
            font-size: 18px;
        }
        
        .font-24 {
            font-size: 24px;
        }
        
        .font-32 {
            font-size: 32px;
        }
        
        .font-bold {
            font-weight: 700;
        }
        
        .font-800 {
            font-weight: 800;
        }
        
        .font-semibold {
            font-weight: 600;
        }
        
        .ml-10 {
            margin-left: 10px;
        }
        
        .mt-20 {
            margin-top: 20px;
        }
        
        .mt-30 {
            margin-top: 30px;
        }
        
        .mb-10 {
            margin-bottom: 10px;
        }
        
        .mb-15 {
            margin-bottom: 15px;
        }
        
        .mb-20 {
            margin-bottom: 20px;
        }
        
        .mb-5 {
            margin-bottom: 5px;
        }
        
        .p-20 {
            padding: 20px;
        }
        
        .p-25 {
            padding: 25px;
        }
        
        .p-30 {
            padding: 30px;
        }
        
        .legend-success {
            background: linear-gradient(135deg, var(--success), var(--success-light));
        }
        
        .legend-danger {
            background: linear-gradient(135deg, var(--danger), #ff616f);
        }
        
        .legend-warning {
            background: linear-gradient(135deg, var(--warning), #ffb74d);
        }
        
        .bg-gradient-light {
            background: linear-gradient(135deg, var(--light) 0%, #e3e8f7 100%);
        }
        
        .bg-gradient-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
        }
        
        .bg-gradient-accent {
            background: linear-gradient(135deg, rgba(255, 64, 129, 0.1), transparent);
        }
        
        .bg-gradient-secondary {
            background: linear-gradient(135deg, rgba(0, 176, 255, 0.05), transparent);
        }
        
        .rounded-16 {
            border-radius: 16px;
        }
        
        .rounded-20 {
            border-radius: 20px;
        }
        
        .border-light {
            border: 2px solid var(--light);
        }
        
        .flex-center {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .flex-between {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .grid-4-col {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
        }
        
        .grid-2-col {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        
        .grid-auto-fit {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .w-100 {
            width: 100%;
        }
        
        .max-w-500 {
            max-width: 500px;
        }
        
        .text-sm {
            font-size: 14px;
        }
        
        .relative {
            position: relative;
        }
        
        .overflow-hidden {
            overflow: hidden;
        }
        
        /* Fix for accessibility contrast issues */
        .sidebar-menu a {
            color: #2d3748; /* Darker for better contrast */
        }
        
        .sidebar-menu a.active {
            color: #ffffff;
        }
        
        /* Fix for text contrast */
        .card-header h2,
        .sidebar h3,
        .legend-item span,
        .faq-question,
        .contact-item div:first-child {
            color: #1a237e; /* Darker primary color */
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-content">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-parking"></i>
                </div>
                <div class="logo-text">
                    <h1>KL University Smart Parking</h1>
                    <span>Intelligent Parking Management System</span>
                </div>
            </div>
            <nav>
                <ul>
                    <li><a href="#" class="nav-link active" data-section="dashboard">Dashboard</a></li>
                    <li><a href="#" class="nav-link" data-section="parking-map">Live Map</a></li>
                    <li><a href="#" class="nav-link" data-section="reservations">My Reservations</a></li>
                    <li><a href="#" class="nav-link" data-section="help">Help Center</a></li>
                </ul>
            </nav>
            <div class="user-actions">
                <button type="button" class="btn btn-outline relative" id="notification-btn">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge" id="notification-count">3</span>
                </button>
                <button type="button" class="btn btn-primary" id="login-btn">
                    <i class="fas fa-user"></i>
                    <span id="username-display">Login</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <div class="dashboard">
            <!-- Sidebar -->
            <div class="sidebar glass">
                <h3><i class="fas fa-bars"></i> Navigation</h3>
                <ul class="sidebar-menu">
                    <li><a href="#" class="sidebar-link active" data-section="dashboard"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
                    <li><a href="#" class="sidebar-link" data-section="parking-map"><i class="fas fa-map-marked-alt"></i> Live Parking Map</a></li>
                    <li><a href="#" class="sidebar-link" data-section="reservations"><i class="fas fa-calendar-check"></i> My Reservations</a></li>
                    <li><a href="#" class="sidebar-link" data-section="history"><i class="fas fa-history"></i> Parking History</a></li>
                    <li><a href="#" class="sidebar-link" data-section="payments"><i class="fas fa-credit-card"></i> Payment History</a></li>
                    <li><a href="#" class="sidebar-link" data-section="settings"><i class="fas fa-cog"></i> Account Settings</a></li>
                </ul>
                <h3><i class="fas fa-layer-group"></i> Parking Zones</h3>
                <ul class="sidebar-menu">
                    <li><a href="#" class="zone-link active" data-zone="A"><i class="fas fa-user-graduate"></i> Zone A - Students</a></li>
                    <li><a href="#" class="zone-link" data-zone="B"><i class="fas fa-chalkboard-teacher"></i> Zone B - Faculty</a></li>
                    <li><a href="#" class="zone-link" data-zone="C"><i class="fas fa-users"></i> Zone C - Visitors</a></li>
                    <li><a href="#" class="zone-link" data-zone="D"><i class="fas fa-star"></i> Zone D - VIP</a></li>
                </ul>
                <div class="sidebar-stats">
                    <h4>Live Statistics</h4>
                    <div class="stats-mini">
                        <div>Available Spots</div>
                        <div class="stats-mini-value" id="sidebar-available">183</div>
                        <div>Occupied Spots</div>
                        <div class="stats-mini-value" id="sidebar-occupied">64</div>
                        <div>Total Zones</div>
                        <div class="stats-mini-value">4</div>
                        <div>Today's Reservations</div>
                        <div class="stats-mini-value">42</div>
                    </div>
                </div>
            </div>
            <!-- Main Content Area -->
            <div class="main-content">
                <!-- Dashboard Section -->
                <div id="dashboard" class="section active">
                    <!-- Welcome Message -->
                    <div class="card">
                        <div class="welcome-content">
                            <div>
                                <h2 class="primary-text font-32 mb-20">Welcome to <span class="accent-text">KLU Smart Parking</span></h2>
                                <p class="welcome-text">Reserve your parking spot in advance and enjoy seamless parking experience across campus. Login to access all premium features.</p>
                                <div class="flex-center mt-30">
                                    <button type="button" class="btn btn-accent" id="quick-reserve-btn">
                                        <i class="fas fa-bolt"></i>
                                        Quick Reserve
                                    </button>
                                    <button type="button" class="btn btn-primary" id="demo-login-btn">
                                        <i class="fas fa-user-check"></i>
                                        Demo Login
                                    </button>
                                    <button type="button" class="btn btn-outline btn-primary-text" id="learn-more-btn">
                                        <i class="fas fa-info-circle"></i>
                                        Learn More
                                    </button>
                                </div>
                            </div>
                            <div class="welcome-icon">
                                <i class="fas fa-car"></i>
                            </div>
                        </div>
                    </div>
                    <!-- Stats Overview -->
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-parking"></i>
                            </div>
                            <div class="stat-number">247</div>
                            <div class="stat-label">Total Parking Spots</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-car"></i>
                            </div>
                            <div class="stat-number">183</div>
                            <div class="stat-label">Available Now</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="stat-number">42</div>
                            <div class="stat-label">Reserved Today</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="stat-number">94%</div>
                            <div class="stat-label">System Efficiency</div>
                        </div>
                    </div>
                    <!-- Parking Availability -->
                    <div class="card">
                        <div class="card-header">
                            <h2>Live Parking Availability - Zone A</h2>
                            <div>
                                <button type="button" class="btn btn-primary" id="refresh-btn">
                                    <i class="fas fa-sync-alt"></i>
                                    Refresh
                                </button>
                            </div>
                        </div>
                        <div class="parking-grid" id="parking-grid"></div>
                        <div class="legend-container">
                            <div class="legend-items">
                                <div class="legend-item">
                                    <div class="legend-color legend-success"></div>
                                    <span>Available</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color legend-danger"></div>
                                    <span>Occupied</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color legend-warning"></div>
                                    <span>Reserved</span>
                                </div>
                            </div>
                            <button type="button" class="btn btn-accent" id="view-map-btn">
                                <i class="fas fa-map"></i>
                                View 3D Map
                            </button>
                        </div>
                    </div>
                    <!-- Reservation Form -->
                    <div class="card">
                        <div class="card-header">
                            <h2>Make a Reservation</h2>
                            <button type="button" class="btn btn-success" id="find-best-spot-btn">
                                <i class="fas fa-search-location"></i>
                                Find Best Spot
                            </button>
                        </div>
                        <form class="reservation-form" id="reservation-form">
                            <div class="form-group">
                                <label for="zone"><i class="fas fa-map-marker-alt"></i> Parking Zone</label>
                                <select id="zone" class="form-control" required>
                                    <option value="">Select Zone</option>
                                    <option value="A" selected>Zone A - Student Parking</option>
                                    <option value="B">Zone B - Faculty Parking</option>
                                    <option value="C">Zone C - Visitor Parking</option>
                                    <option value="D">Zone D - VIP Parking</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="date"><i class="fas fa-calendar"></i> Date</label>
                                <input type="date" id="date" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="start-time"><i class="fas fa-clock"></i> Start Time</label>
                                <input type="time" id="start-time" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="end-time"><i class="fas fa-clock"></i> End Time</label>
                                <input type="time" id="end-time" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="vehicle"><i class="fas fa-car"></i> Vehicle</label>
                                <select id="vehicle" class="form-control" required>
                                    <option value="">Select Vehicle</option>
                                    <option value="1">KLU-1234 (Student Vehicle)</option>
                                    <option value="2">FAC-5678 (Faculty Vehicle)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="klu-id"><i class="fas fa-id-card"></i> KLU ID Number</label>
                                <input type="text" id="klu-id" class="form-control" placeholder="Enter KLU ID" required>
                            </div>
                            <div class="cost-estimate">
                                <div class="cost-row">
                                    <span class="font-18">Estimated Cost:</span>
                                    <span class="cost-amount">Free for Students</span>
                                </div>
                                <button type="submit" class="btn btn-success full-width-btn font-18">
                                    <i class="fas fa-check-circle"></i>
                                    Reserve Parking Spot
                                </button>
                            </div>
                        </form>
                    </div>
                    <!-- Recent Activity -->
                    <div class="card">
                        <div class="card-header">
                            <h2>Recent Activity</h2>
                            <a href="#" class="view-all-link" id="view-all-history">
                                View All <i class="fas fa-arrow-right"></i>
                            </a>
                        </div>
                        <div class="table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Spot</th>
                                        <th>Duration</th>
                                        <th>Zone</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody id="recent-activity"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <!-- Parking Map Section -->
                <div id="parking-map" class="section">
                    <div class="card">
                        <div class="card-header">
                            <h2>KL University Parking Map</h2>
                            <div>
                                <button type="button" class="btn btn-primary" id="zoom-in-btn">
                                    <i class="fas fa-search-plus"></i>
                                    Zoom In
                                </button>
                                <button type="button" class="btn btn-secondary ml-10" id="zoom-out-btn">
                                    <i class="fas fa-search-minus"></i>
                                    Zoom Out
                                </button>
                            </div>
                        </div>
                        <div class="parking-map-container">
                            <div class="parking-lot">
                                <div class="parking-zone zone-a" data-zone="A">
                                    Zone A<br><small>Student Parking</small>
                                </div>
                                <div class="parking-zone zone-b" data-zone="B">
                                    Zone B<br><small>Faculty Parking</small>
                                </div>
                                <div class="parking-zone zone-c" data-zone="C">
                                    Zone C<br><small>Visitor Parking</small>
                                </div>
                                <div class="parking-zone zone-d" data-zone="D">
                                    Zone D<br><small>VIP Parking</small>
                                </div>
                            </div>
                        </div>
                        <div class="mt-30">
                            <h3 class="primary-text mb-20">Zone Information</h3>
                            <div class="zone-info-grid">
                                <div class="zone-info-card">
                                    <div class="primary-text font-bold font-18 mb-10">Zone A - Student Parking</div>
                                    <div class="gray-text mb-5"><i class="fas fa-car"></i> Capacity: 80 spots</div>
                                    <div class="gray-text mb-5"><i class="fas fa-map-marker-alt"></i> Location: Main Campus</div>
                                    <div class="gray-text mb-5"><i class="fas fa-id-card"></i> Access: Student ID Required</div>
                                    <div class="success-text font-semibold mt-10"><i class="fas fa-check-circle"></i> Free for Students</div>
                                </div>
                                <div class="zone-info-card zone-b-card">
                                    <div class="primary-text font-bold font-18 mb-10">Zone B - Faculty Parking</div>
                                    <div class="gray-text mb-5"><i class="fas fa-car"></i> Capacity: 60 spots</div>
                                    <div class="gray-text mb-5"><i class="fas fa-map-marker-alt"></i> Location: Academic Block</div>
                                    <div class="gray-text mb-5"><i class="fas fa-id-card"></i> Access: Faculty ID Required</div>
                                    <div class="success-text font-semibold mt-10"><i class="fas fa-check-circle"></i> Free for Faculty</div>
                                </div>
                                <div class="zone-info-card zone-c-card">
                                    <div class="primary-text font-bold font-18 mb-10">Zone C - Visitor Parking</div>
                                    <div class="gray-text mb-5"><i class="fas fa-car"></i> Capacity: 40 spots</div>
                                    <div class="gray-text mb-5"><i class="fas fa-map-marker-alt"></i> Location: Main Gate</div>
                                    <div class="gray-text mb-5"><i class="fas fa-id-card"></i> Access: Visitor Pass Required</div>
                                    <div class="warning-text font-semibold mt-10"><i class="fas fa-rupee-sign"></i> 50 per hour</div>
                                </div>
                                <div class="zone-info-card zone-d-card">
                                    <div class="primary-text font-bold font-18 mb-10">Zone D - VIP Parking</div>
                                    <div class="gray-text mb-5"><i class="fas fa-car"></i> Capacity: 20 spots</div>
                                    <div class="gray-text mb-5"><i class="fas fa-map-marker-alt"></i> Location: Admin Block</div>
                                    <div class="gray-text mb-5"><i class="fas fa-id-card"></i> Access: Special Permit Required</div>
                                    <div class="accent-text font-semibold mt-10"><i class="fas fa-star"></i> Priority Parking</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Reservations Section -->
                <div id="reservations" class="section">
                    <div class="card">
                        <div class="card-header">
                            <h2>My Reservations</h2>
                            <button type="button" class="btn btn-primary" id="new-reservation-btn">
                                <i class="fas fa-plus"></i>
                                New Reservation
                            </button>
                        </div>
                        <div class="table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Reservation ID</th>
                                        <th>Date</th>
                                        <th>Time</th>
                                        <th>Spot</th>
                                        <th>Duration</th>
                                        <th>Zone</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="reservations-list">
                                    <tr>
                                        <td><strong>RES-2023-001</strong></td>
                                        <td>2023-10-25</td>
                                        <td>09:00 - 13:00</td>
                                        <td>A-105</td>
                                        <td>4 hours</td>
                                        <td>Zone A</td>
                                        <td><span class="spot-status reserved">Upcoming</span></td>
                                        <td>
                                            <button type="button" class="btn btn-outline cancel-btn action-btn-small">
                                                <i class="fas fa-times"></i> Cancel
                                            </button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><strong>RES-2023-002</strong></td>
                                        <td>2023-10-24</td>
                                        <td>14:00 - 18:00</td>
                                        <td>B-012</td>
                                        <td>4 hours</td>
                                        <td>Zone B</td>
                                        <td><span class="spot-status available">Active</span></td>
                                        <td>
                                            <button type="button" class="btn btn-outline action-btn-small">
                                                <i class="fas fa-eye"></i> View
                                            </button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><strong>RES-2023-003</strong></td>
                                        <td>2023-10-23</td>
                                        <td>10:00 - 16:00</td>
                                        <td>C-008</td>
                                        <td>6 hours</td>
                                        <td>Zone C</td>
                                        <td><span class="spot-status occupied">Completed</span></td>
                                        <td>
                                            <button type="button" class="btn btn-outline action-btn-small">
                                                <i class="fas fa-receipt"></i> Invoice
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="p-20 bg-gradient-secondary rounded-16 mt-30">
                            <h4 class="primary-text mb-15"><i class="fas fa-info-circle"></i> Reservation Policies</h4>
                            <ul class="gray-text line-height-1-8 pl-20">
                                <li>Reservations can be made up to 7 days in advance</li>
                                <li>Cancellation must be done at least 2 hours before reservation time</li>
                                <li>Maximum parking duration: 12 hours</li>
                                <li>Late arrivals beyond 30 minutes may result in cancellation</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!-- Help Section -->
                <div id="help" class="section">
                    <div class="card">
                        <div class="card-header">
                            <h2>Help &amp; Support Center</h2>
                        </div>
                        <div class="grid-2-col">
                            <div>
                                <h3 class="primary-text mb-20">Frequently Asked Questions</h3>
                                <div class="faq-item">
                                    <div class="faq-question">
                                        How do I make a parking reservation?
                                        <i class="fas fa-chevron-down"></i>
                                    </div>
                                    <div class="faq-answer">
                                        Go to the Dashboard section and fill out the reservation form. Select your preferred zone, date, time, vehicle, and enter your KLU ID number. You can also use the "Quick Reserve" button for instant booking.
                                    </div>
                                </div>
                                <div class="faq-item">
                                    <div class="faq-question">
                                        What are the parking fees and rules?
                                        <i class="fas fa-chevron-down"></i>
                                    </div>
                                    <div class="faq-answer">
                                        Students and faculty park for free in their respective zones (A &amp; B). Visitor parking (Zone C) costs 50 per hour. VIP parking (Zone D) requires special authorization. Maximum parking duration is 12 hours.
                                    </div>
                                </div>
                                <div class="faq-item">
                                    <div class="faq-question">
                                        Can I cancel or modify my reservation?
                                        <i class="fas fa-chevron-down"></i>
                                    </div>
                                    <div class="faq-answer">
                                        Yes, you can cancel up to 2 hours before the scheduled start time without penalty. Modifications can be made up to 1 hour before. Late cancellations may affect your parking privileges.
                                    </div>
                                </div>
                                <div class="faq-item">
                                    <div class="faq-question">
                                        What happens if I'm late for my reservation?
                                        <i class="fas fa-chevron-down"></i>
                                    </div>
                                    <div class="faq-answer">
                                        Your spot will be held for 30 minutes beyond the reservation start time. After that, it may be released to other users and your reservation could be cancelled with a penalty.
                                    </div>
                                </div>
                            </div>
                            <div>
                                <h3 class="primary-text mb-20">Contact Support</h3>
                                <div class="contact-box">
                                    <p class="font-16 mb-20">Need help? Our support team is available to assist you:</p>
                                    <div class="contact-item">
                                        <div class="contact-icon">
                                            <i class="fas fa-phone"></i>
                                        </div>
                                        <div>
                                            <div class="primary-text font-semibold">Phone Support</div>
                                            <div class="gray-text">(0863) 2399999</div>
                                        </div>
                                    </div>
                                    <div class="contact-item">
                                        <div class="contact-icon">
                                            <i class="fas fa-envelope"></i>
                                        </div>
                                        <div>
                                            <div class="primary-text font-semibold">Email Support</div>
                                            <div class="gray-text">parking@kluniversity.in</div>
                                        </div>
                                    </div>
                                    <div class="contact-item">
                                        <div class="contact-icon">
                                            <i class="fas fa-clock"></i>
                                        </div>
                                        <div>
                                            <div class="primary-text font-semibold">Operating Hours</div>
                                            <div class="gray-text">Mon-Fri: 8AM-6PM, Sat: 9AM-1PM</div>
                                        </div>
                                    </div>
                                    <div class="contact-item">
                                        <div class="contact-icon">
                                            <i class="fas fa-map-marker-alt"></i>
                                        </div>
                                        <div>
                                            <div class="primary-text font-semibold">Office Location</div>
                                            <div class="gray-text">Transport Office, Main Campus</div>
                                        </div>
                                    </div>
                                    <button type="button" class="btn btn-primary mt-20 w-100" id="contact-support-btn">
                                        <i class="fas fa-headset"></i>
                                        Contact Support Team
                                    </button>
                                </div>
                                <div class="mt-30">
                                    <h4 class="primary-text mb-15">Emergency Contacts</h4>
                                    <div class="p-20 bg-gradient-accent rounded-16">
                                        <div class="danger-text font-semibold mb-10"><i class="fas fa-exclamation-triangle"></i> Security Office: (0863) 2399998</div>
                                        <div class="warning-text font-semibold"><i class="fas fa-car-crash"></i> Towing Service: 1800-123-4567</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- History Section -->
                <div id="history" class="section">
                    <div class="card">
                        <div class="card-header">
                            <h2>Parking History</h2>
                            <button type="button" class="btn btn-outline" id="export-history-btn">
                                <i class="fas fa-download"></i>
                                Export History
                            </button>
                        </div>
                        <div class="table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Time</th>
                                        <th>Spot</th>
                                        <th>Duration</th>
                                        <th>Zone</th>
                                        <th>Vehicle</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody id="parking-history">
                                    <tr>
                                        <td>2023-10-23</td>
                                        <td>10:00 - 16:00</td>
                                        <td><strong>C-008</strong></td>
                                        <td>6 hours</td>
                                        <td>Zone C</td>
                                        <td>KLU-2023</td>
                                        <td><span class="spot-status occupied">Completed</span></td>
                                    </tr>
                                    <tr>
                                        <td>2023-10-22</td>
                                        <td>08:00 - 14:00</td>
                                        <td><strong>A-105</strong></td>
                                        <td>6 hours</td>
                                        <td>Zone A</td>
                                        <td>KLU-1234</td>
                                        <td><span class="spot-status occupied">Completed</span></td>
                                    </tr>
                                    <tr>
                                        <td>2023-10-21</td>
                                        <td>13:00 - 17:00</td>
                                        <td><strong>B-012</strong></td>
                                        <td>4 hours</td>
                                        <td>Zone B</td>
                                        <td>FAC-5678</td>
                                        <td><span class="spot-status occupied">Completed</span></td>
                                    </tr>
                                    <tr>
                                        <td>2023-10-20</td>
                                        <td>09:00 - 18:00</td>
                                        <td><strong>A-098</strong></td>
                                        <td>9 hours</td>
                                        <td>Zone A</td>
                                        <td>KLU-1234</td>
                                        <td><span class="spot-status occupied">Completed</span></td>
                                    </tr>
                                    <tr>
                                        <td>2023-10-19</td>
                                        <td>11:00 - 15:00</td>
                                        <td><strong>C-015</strong></td>
                                        <td>4 hours</td>
                                        <td>Zone C</td>
                                        <td>VIS-8899</td>
                                        <td><span class="spot-status occupied">Completed</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="mt-30 flex-between">
                            <div>
                                <h4 class="primary-text mb-10">Statistics Summary</h4>
                                <div class="grid-4-col">
                                    <div class="text-center">
                                        <div class="primary-text font-24 font-800">15</div>
                                        <div class="gray-text text-sm">Total Bookings</div>
                                    </div>
                                    <div class="text-center">
                                        <div class="success-text font-24 font-800">42 hrs</div>
                                        <div class="gray-text text-sm">Total Hours</div>
                                    </div>
                                    <div class="text-center">
                                        <div class="secondary-text font-24 font-800">3</div>
                                        <div class="gray-text text-sm">Zones Used</div>
                                    </div>
                                    <div class="text-center">
                                        <div class="accent-text font-24 font-800">250</div>
                                        <div class="gray-text text-sm">Total Spent</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Payments Section -->
                <div id="payments" class="section">
                    <div class="card">
                        <div class="card-header">
                            <h2>Payment History</h2>
                            <button type="button" class="btn btn-primary" id="add-payment-method-btn">
                                <i class="fas fa-credit-card"></i>
                                Add Payment Method
                            </button>
                        </div>
                        <div class="payment-history-grid">
                            <div class="payment-card">
                                <div class="flex-between mb-15">
                                    <div class="primary-text font-bold">Payment #PAY-2023-001</div>
                                    <span class="spot-status available text-sm">Paid</span>
                                </div>
                                <div class="gray-text mb-10">Date: 2023-10-23</div>
                                <div class="gray-text mb-10">Purpose: Visitor Parking - Zone C</div>
                                <div class="gray-text mb-15">Duration: 6 hours</div>
                                <div class="flex-between">
                                    <div class="primary-text font-18 font-bold">300</div>
                                    <button type="button" class="btn btn-outline action-btn-small">
                                        <i class="fas fa-receipt"></i> Invoice
                                    </button>
                                </div>
                            </div>
                            <div class="payment-card pending">
                                <div class="flex-between mb-15">
                                    <div class="primary-text font-bold">Payment #PAY-2023-002</div>
                                    <span class="spot-status reserved text-sm">Pending</span>
                                </div>
                                <div class="gray-text mb-10">Date: 2023-10-24</div>
                                <div class="gray-text mb-10">Purpose: Extended Parking Fee</div>
                                <div class="gray-text mb-15">Duration: 2 hours overtime</div>
                                <div class="flex-between">
                                    <div class="primary-text font-18 font-bold">100</div>
                                    <button type="button" class="btn btn-primary action-btn-small">
                                        <i class="fas fa-rupee-sign"></i> Pay Now
                                    </button>
                                </div>
                            </div>
                            <div class="payment-card">
                                <div class="flex-between mb-15">
                                    <div class="primary-text font-bold">Payment #PAY-2023-003</div>
                                    <span class="spot-status available text-sm">Paid</span>
                                </div>
                                <div class="gray-text mb-10">Date: 2023-10-19</div>
                                <div class="gray-text mb-10">Purpose: Visitor Parking - Zone C</div>
                                <div class="gray-text mb-15">Duration: 4 hours</div>
                                <div class="flex-between">
                                    <div class="primary-text font-18 font-bold">200</div>
                                    <button type="button" class="btn btn-outline action-btn-small">
                                        <i class="fas fa-receipt"></i> Invoice
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="no-payment-section">
                            <i class="fas fa-credit-card"></i>
                            <h3 class="primary-text mb-10">No Payment History</h3>
                            <p class="gray-text max-w-500 m-auto">You haven't made any payments yet. Payments are only required for visitor parking and special services.</p>
                        </div>
                        <div class="mt-30 p-25 bg-gradient-secondary rounded-20">
                            <h4 class="primary-text mb-15"><i class="fas fa-info-circle"></i> Payment Information</h4>
                            <div class="grid-auto-fit">
                                <div>
                                    <div class="primary-text font-semibold mb-5">Accepted Payment Methods</div>
                                    <div class="gray-text text-sm">Credit/Debit Cards, UPI, Net Banking</div>
                                </div>
                                <div>
                                    <div class="primary-text font-semibold mb-5">Payment Schedule</div>
                                    <div class="gray-text text-sm">Payments are processed immediately</div>
                                </div>
                                <div>
                                    <div class="primary-text font-semibold mb-5">Refund Policy</div>
                                    <div class="gray-text text-sm">Refunds processed within 5-7 business days</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Settings Section -->
                <div id="settings" class="section">
                    <div class="card">
                        <div class="card-header">
                            <h2>Account Settings</h2>
                        </div>
                        <form class="reservation-form" id="settings-form">
                            <div class="form-group">
                                <label for="username-settings"><i class="fas fa-user"></i> Username</label>
                                <input type="text" id="username-settings" class="form-control" placeholder="Enter username" value="vamsi_krishna">
                            </div>
                            <div class="form-group">
                                <label for="email-settings"><i class="fas fa-envelope"></i> Email Address</label>
                                <input type="email" id="email-settings" class="form-control" placeholder="Enter email" value="vamsi@kluniversity.in">
                            </div>
                            <div class="form-group">
                                <label for="phone-settings"><i class="fas fa-phone"></i> Phone Number</label>
                                <input type="tel" id="phone-settings" class="form-control" placeholder="Enter phone number" value="(123) 456-7890">
                            </div>
                            <div class="form-group">
                                <label for="klu-id-settings"><i class="fas fa-id-card"></i> KLU ID Number</label>
                                <input type="text" id="klu-id-settings" class="form-control" placeholder="Enter KLU ID" value="KLU2023001">
                            </div>
                            <div class="form-group">
                                <label for="user-type-settings"><i class="fas fa-user-tag"></i> User Type</label>
                                <select id="user-type-settings" class="form-control">
                                    <option value="student" selected>Student</option>
                                    <option value="faculty">Faculty</option>
                                    <option value="visitor">Visitor</option>
                                    <option value="staff">Staff</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="notification-settings"><i class="fas fa-bell"></i> Notification Preferences</label>
                                <select id="notification-settings" class="form-control">
                                    <option value="all">All Notifications</option>
                                    <option value="reservations" selected>Reservations Only</option>
                                    <option value="payments">Payments Only</option>
                                    <option value="none">No Notifications</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="theme-settings"><i class="fas fa-palette"></i> Theme Preference</label>
                                <select id="theme-settings" class="form-control">
                                    <option value="light" selected>Light Theme</option>
                                    <option value="dark">Dark Theme</option>
                                    <option value="auto">Auto (System Default)</option>
                                </select>
                            </div>
                        </form>
                        <div class="form-group full-width-btn">
                                <button type="submit" class="btn btn-primary min-w-150">
                                    <i class="fas fa-save"></i>
                                    Save Changes
                                </button>
                        </div>
                        <div class="mt-40 pt-30 border-top-light">
                            <h3 class="primary-text mb-20">Security Settings</h3>
                            <div class="grid-auto-fit">
                                <div class="p-20 bg-light rounded-16">
                                    <div class="primary-text font-semibold mb-10">Change Password</div>
                                    <p class="gray-text mb-15 text-sm">Update your password regularly for security</p>
                                    <button type="button" class="btn btn-outline btn-primary-text">
                                        <i class="fas fa-key"></i> Change Password
                                    </button>
                                </div>
                                <div class="p-20 bg-light rounded-16">
                                    <div class="primary-text font-semibold mb-10">Two-Factor Authentication</div>
                                    <p class="gray-text mb-15 text-sm">Add an extra layer of security to your account</p>
                                    <button type="button" class="btn btn-outline btn-primary-text">
                                        <i class="fas fa-shield-alt"></i> Enable 2FA
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="mt-30 p-20 bg-gradient-accent rounded-16">
                            <h4 class="primary-text mb-15"><i class="fas fa-exclamation-triangle"></i> Danger Zone</h4>
                            <p class="gray-text mb-15">These actions are irreversible. Please proceed with caution.</p>
                            <button type="button" class="btn btn-outline btn-danger-text">
                                <i class="fas fa-trash-alt"></i> Delete Account
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Footer -->
    <footer>
        <div class="container footer-content">
            <div>
                <p class="font-18 font-semibold mb-10"> 2025 KL University Smart Parking System</p>
                <p class="opacity-80 mb-20">Innovating Campus Mobility Solutions</p>
                <div class="flex-center">
                    <span><i class="fas fa-phone"></i> (0863) 2399999</span>
                    <span><i class="fas fa-envelope"></i> parking@kluniversity.in</span>
                    <span><i class="fas fa-map-marker-alt"></i> Green Fields, Vaddeswaram</span>
                </div>
            </div>
            <div class="footer-links">
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
                <a href="#">Contact Us</a>
                <a href="#">Campus Map</a>
            </div>
        </div>
    </footer>
    <!-- Auth Modal -->
    <div id="auth-modal" class="modal auth-modal">
        <div class="modal-content">
            <div class="auth-tabs">
                <div class="auth-tab active" data-tab="login">Login</div>
                <div class="auth-tab" data-tab="register">Register</div>
            </div>
            <form id="login-form" class="auth-form active">
                <div class="form-group">
                    <label for="login-username">KLU ID / Username</label>
                    <input type="text" id="login-username" class="form-control" placeholder="Enter KLU ID or username" value="KLU2023001">
                </div>
                <div class="form-group">
                    <label for="login-password">Password</label>
                    <input type="password" id="login-password" class="form-control" placeholder="Enter password" value="demo123">
                </div>
                <div class="form-group">
                    <button type="submit" class="btn btn-primary full-width-btn">
                        <i class="fas fa-sign-in-alt"></i>
                        Login
                    </button>
                </div>
                <div class="form-group text-center">
                    <button type="button" class="btn btn-secondary" id="demo-login-modal-btn">
                        Use Demo Account
                    </button>
                </div>
            </form>
            <form id="register-form" class="auth-form">
                <div class="form-group">
                    <label for="reg-username">Username</label>
                    <input type="text" id="reg-username" class="form-control" placeholder="Choose username">
                </div>
                <div class="form-group">
                    <label for="reg-klu-id">KLU ID Number</label>
                    <input type="text" id="reg-klu-id" class="form-control" placeholder="Enter KLU ID">
                </div>
                <div class="form-group">
                    <label for="reg-email">Email</label>
                    <input type="email" id="reg-email" class="form-control" placeholder="Enter email">
                </div>
                <div class="form-group">
                    <label for="reg-password">Password</label>
                    <input type="password" id="reg-password" class="form-control" placeholder="Choose password">
                </div>
                <div class="form-group">
                    <label for="reg-confirm-password">Confirm Password</label>
                    <input type="password" id="reg-confirm-password" class="form-control" placeholder="Confirm password">
                </div>
                <div class="form-group">
                    <button type="submit" class="btn btn-primary full-width-btn">
                        <i class="fas fa-user-plus"></i>
                        Register
                    </button>
                </div>
            </form>
        </div>
    </div>
    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>
    <!-- Loading Modal -->
    <div id="loading-modal" class="modal">
        <div class="modal-content text-center">
            <div class="spinner"></div>
            <p class="mt-20 font-18 primary-text">Processing your request...</p>
        </div>
    </div>
    <!-- Floating Action Button -->
    <button type="button" class="floating-action-btn" id="back-to-top">
        <i class="fas fa-arrow-up">Cancel</i>
    </button>

    <!-- JavaScript -->
    <script>
        // Application State
        const appState = {
            isLoggedIn: false,
            currentUser: null,
            notifications: 3,
            parkingData: {},
            reservations: [],
            parkingHistory: [],
            currentZone: 'A'
        };
        
        // Demo Data
        const demoData = {
            user: {
                username: 'vamsi_krishna',
                email: 'vamsi@kluniversity.in',
                phone: '(123) 456-7890',
                kluId: 'KLU2023001',
                type: 'student'
            },
            reservations: [
                { id: 'RES-2023-001', date: '2023-10-25', time: '09:00 - 13:00', spot: 'A-105', duration: '4 hours', zone: 'Zone A', status: 'upcoming' },
                { id: 'RES-2023-002', date: '2023-10-24', time: '14:00 - 18:00', spot: 'B-012', duration: '4 hours', zone: 'Zone B', status: 'active' },
                { id: 'RES-2023-003', date: '2023-10-23', time: '10:00 - 16:00', spot: 'C-008', duration: '6 hours', zone: 'Zone C', status: 'completed' }
            ],
            recentActivity: [
                { date: '2023-10-23', spot: 'C-008', duration: '6 hours', zone: 'Zone C', status: 'completed' },
                { date: '2023-10-22', spot: 'A-105', duration: '6 hours', zone: 'Zone A', status: 'completed' },
                { date: '2023-10-21', spot: 'B-012', duration: '4 hours', zone: 'Zone B', status: 'completed' },
                { date: '2023-10-20', spot: 'A-098', duration: '9 hours', zone: 'Zone A', status: 'completed' },
                { date: '2023-10-19', spot: 'C-015', duration: '4 hours', zone: 'Zone C', status: 'completed' }
            ],
            payments: [
                { id: 'PAY-2023-001', date: '2023-10-23', amount: '300', purpose: 'Visitor Parking - Zone C', status: 'paid' },
                { id: 'PAY-2023-002', date: '2023-10-24', amount: '100', purpose: 'Extended Parking Fee', status: 'pending' },
                { id: 'PAY-2023-003', date: '2023-10-19', amount: '200', purpose: 'Visitor Parking - Zone C', status: 'paid' }
            ]
        };
        
        // Initialize the application
        function initializeApp() {
            // Initialize date fields
            const today = new Date().toISOString().split('T')[0];
            const dateInput = document.getElementById('date');
            if (dateInput) {
                dateInput.min = today;
                dateInput.value = today;
            }
            
            // Set default times
            const now = new Date();
            const startTime = new Date(now.getTime() + 30 * 60000);
            const endTime = new Date(startTime.getTime() + 3 * 60 * 60000);
            
            const startTimeInput = document.getElementById('start-time');
            const endTimeInput = document.getElementById('end-time');
            if (startTimeInput && endTimeInput) {
                startTimeInput.value = startTime.toTimeString().substring(0,5);
                endTimeInput.value = endTime.toTimeString().substring(0,5);
            }
            
            // Generate parking data
            generateParkingData();
            
            // Initialize UI
            renderParkingGrid('A');
            renderRecentActivity();
            updateSidebarStats();
            
            // Setup event listeners
            setupEventListeners();
            
            // Setup back to top button
            setupBackToTop();
            
            // Show welcome message
            showToast('Welcome to KL University Smart Parking System! Click "Demo Login" to try all features.', 'info');
        }
        
        function generateParkingData() {
            const zones = ['A', 'B', 'C', 'D'];
            const zoneCapacities = { A: 80, B: 60, C: 40, D: 20 };
            
            for (const zone of zones) {
                appState.parkingData[zone] = [];
                for (let i = 1; i <= zoneCapacities[zone]; i++) {
                    const random = Math.random();
                    let status = 'available';
                    if (random < 0.25) status = 'occupied';
                    if (random >= 0.25 && random < 0.45) status = 'reserved';
                    
                    appState.parkingData[zone].push({
                        id: `${zone}-${i.toString().padStart(3, '0')}`,
                        status: status
                    });
                }
            }
        }
        
        function setupEventListeners() {
            // Navigation
            const navLinks = document.querySelectorAll('.nav-link, .sidebar-link');
            navLinks.forEach(link => {
                link.addEventListener('click', handleNavigation);
            });
            
            // Zone selection
            const zoneLinks = document.querySelectorAll('.zone-link');
            zoneLinks.forEach(link => {
                link.addEventListener('click', handleZoneSelection);
            });
            
            // Parking map zones
            const parkingZones = document.querySelectorAll('.parking-zone');
            parkingZones.forEach(zone => {
                zone.addEventListener('click', handleMapZoneClick);
            });
            
            // Auth buttons
            document.getElementById('login-btn').addEventListener('click', handleLoginButton);
            document.getElementById('demo-login-btn').addEventListener('click', handleDemoLogin);
            document.getElementById('demo-login-modal-btn')?.addEventListener('click', handleDemoLogin);
            
            // Form submissions
            document.getElementById('reservation-form')?.addEventListener('submit', handleReservationSubmit);
            document.getElementById('settings-form')?.addEventListener('submit', handleSettingsSubmit);
            document.getElementById('login-form')?.addEventListener('submit', handleLoginFormSubmit);
            document.getElementById('register-form')?.addEventListener('submit', handleRegisterFormSubmit);
            
            // Modal tabs
            document.querySelectorAll('.auth-tab').forEach(tab => {
                tab.addEventListener('click', handleAuthTabClick);
            });
            
            // Action buttons
            document.getElementById('refresh-btn')?.addEventListener('click', handleRefresh);
            document.getElementById('quick-reserve-btn')?.addEventListener('click', handleQuickReserve);
            document.getElementById('find-best-spot-btn')?.addEventListener('click', handleFindBestSpot);
            document.getElementById('view-map-btn')?.addEventListener('click', handleViewMap);
            document.getElementById('notification-btn')?.addEventListener('click', handleNotificationClick);
            document.getElementById('new-reservation-btn')?.addEventListener('click', handleNewReservation);
            document.getElementById('contact-support-btn')?.addEventListener('click', handleContactSupport);
            document.getElementById('export-history-btn')?.addEventListener('click', handleExportHistory);
            document.getElementById('view-all-history')?.addEventListener('click', handleViewAllHistory);
            document.getElementById('add-payment-method-btn')?.addEventListener('click', handleAddPaymentMethod);
            document.getElementById('learn-more-btn')?.addEventListener('click', handleLearnMore);
            
            // FAQ
            document.querySelectorAll('.faq-question').forEach(question => {
                question.addEventListener('click', handleFAQClick);
            });
            
            // Cancel reservation buttons
            document.querySelectorAll('.cancel-btn').forEach(button => {
                button.addEventListener('click', handleCancelReservation);
            });
            
            // Parking spot clicks
            document.addEventListener('click', function(e) {
                if (e.target.closest('.parking-spot')) {
                    const spot = e.target.closest('.parking-spot');
                    handleParkingSpotClick(spot);
                }
            });
        }
        
        function handleNavigation(e) {
            e.preventDefault();
            const sectionId = this.dataset.section;
            
            if (!appState.isLoggedIn && sectionId !== 'dashboard' && sectionId !== 'help') {
                showToast('Please login to access this section', 'warning');
                return;
            }
            
            // Update active navigation
            document.querySelectorAll('.nav-link, .sidebar-link').forEach(link => {
                link.classList.remove('active');
            });
            this.classList.add('active');
            
            // Show section
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(sectionId).classList.add('active');
            
            // Load section data
            if (sectionId === 'reservations') renderReservations();
            if (sectionId === 'history') renderParkingHistory();
            if (sectionId === 'payments') renderPayments();
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        function handleZoneSelection(e) {
            e.preventDefault();
            const zone = this.dataset.zone;
            
            // Update active zone
            document.querySelectorAll('.zone-link').forEach(link => {
                link.classList.remove('active');
            });
            this.classList.add('active');
            
            // Render parking grid for this zone
            renderParkingGrid(zone);
            appState.currentZone = zone;
            
            // Update header
            const header = document.querySelector('#dashboard .card-header h2');
            if (header) {
                header.textContent = `Live Parking Availability - Zone ${zone}`;
            }
        }
        
        function handleMapZoneClick() {
            const zone = this.dataset.zone;
            const zoneLink = document.querySelector(`.zone-link[data-zone="${zone}"]`);
            const navLink = document.querySelector('.nav-link[data-section="dashboard"]');
            
            if (zoneLink) {
                zoneLink.click();
            }
            if (navLink) {
                navLink.click();
            }
            
            // Update zone select in reservation form
            const zoneSelect = document.getElementById('zone');
            if (zoneSelect) {
                zoneSelect.value = zone;
            }
            
            showToast(`Selected Zone ${zone} for reservation`, 'info');
        }
        
        function handleLoginButton() {
            if (appState.isLoggedIn) {
                handleLogout();
            } else {
                showAuthModal();
            }
        }
        
        function handleDemoLogin() {
            document.getElementById('login-username').value = 'KLU2023001';
            document.getElementById('login-password').value = 'demo123';
            handleLogin('KLU2023001');
        }
        
        function handleReservationSubmit(e) {
            e.preventDefault();
            
            if (!appState.isLoggedIn) {
                showToast('Please login to make a reservation', 'warning');
                showAuthModal();
                return;
            }
            
            // Validate KLU ID
            const kluId = document.getElementById('klu-id').value;
            if (!kluId || !kluId.startsWith('KLU')) {
                showToast('Please enter a valid KLU ID starting with KLU', 'error');
                return;
            }
            
            showLoading();
            setTimeout(() => {
                hideLoading();
                
                // Create new reservation
                const zone = document.getElementById('zone').value;
                const date = document.getElementById('date').value;
                const startTime = document.getElementById('start-time').value;
                const endTime = document.getElementById('end-time').value;
                const spotNumber = Math.floor(Math.random() * 50) + 100;
                
                const newReservation = {
                    id: 'RES-' + new Date().getFullYear() + '-' + (Math.floor(Math.random() * 900) + 100),
                    date: date,
                    time: `${startTime} - ${endTime}`,
                    spot: `${zone}-${spotNumber}`,
                    duration: '3 hours',
                    zone: `Zone ${zone}`,
                    status: 'upcoming'
                };
                
                appState.reservations.unshift(newReservation);
                
                // Update parking spot status
                const parkingSpot = appState.parkingData[zone].find(spot => spot.id === `${zone}-${spotNumber}`);
                if (parkingSpot) {
                    parkingSpot.status = 'reserved';
                }
                
                // Update UI
                renderParkingGrid(zone);
                updateSidebarStats();
                renderRecentActivity();
                
                showToast(`Reservation successful! Spot ${newReservation.spot} reserved.`, 'success');
                
                // Reset form but keep KLU ID
                const kluIdValue = document.getElementById('klu-id').value;
                e.target.reset();
                document.getElementById('klu-id').value = kluIdValue;
                
                // Reset to today's date and default times
                const today = new Date().toISOString().split('T')[0];
                document.getElementById('date').value = today;
                const now = new Date();
                const start = new Date(now.getTime() + 30 * 60000);
                const end = new Date(start.getTime() + 3 * 60 * 60000);
                document.getElementById('start-time').value = start.toTimeString().substring(0,5);
                document.getElementById('end-time').value = end.toTimeString().substring(0,5);
            }, 1500);
        }
        
        function handleSettingsSubmit(e) {
            e.preventDefault();
            showLoading();
            setTimeout(() => {
                hideLoading();
                
                if (appState.currentUser) {
                    appState.currentUser.username = document.getElementById('username-settings').value;
                    appState.currentUser.email = document.getElementById('email-settings').value;
                    appState.currentUser.phone = document.getElementById('phone-settings').value;
                    appState.currentUser.kluId = document.getElementById('klu-id-settings').value;
                    appState.currentUser.type = document.getElementById('user-type-settings').value;
                    
                    // Update display
                    const usernameDisplay = document.getElementById('username-display');
                    if (usernameDisplay) {
                        usernameDisplay.textContent = appState.currentUser.username;
                    }
                    
                    // Update welcome message
                    const welcomeMessage = document.querySelector('#welcome-message .welcome-text');
                    if (welcomeMessage && appState.currentUser) {
                        welcomeMessage.textContent = `Welcome back, ${appState.currentUser.username}! Reserve your parking spot in advance and enjoy hassle-free parking on campus.`;
                    }
                    
                    // Auto-fill KLU ID in reservation form
                    const kluIdInput = document.getElementById('klu-id');
                    if (kluIdInput && appState.currentUser && appState.currentUser.kluId) {
                        kluIdInput.value = appState.currentUser.kluId;
                    }
                }
                
                showToast('Settings saved successfully!', 'success');
            }, 1000);
        }
        
        function handleLoginFormSubmit(e) {
            e.preventDefault();
            const username = document.getElementById('login-username').value;
            const password = document.getElementById('login-password').value;
            
            if (username && password) {
                handleLogin(username);
            } else {
                showToast('Please enter username and password', 'warning');
            }
        }
        
        function handleRegisterFormSubmit(e) {
            e.preventDefault();
            const username = document.getElementById('reg-username').value;
            const kluId = document.getElementById('reg-klu-id').value;
            const email = document.getElementById('reg-email').value;
            const password = document.getElementById('reg-password').value;
            const confirmPassword = document.getElementById('reg-confirm-password').value;
            
            if (password !== confirmPassword) {
                showToast('Passwords do not match', 'error');
                return;
            }
            
            if (username && kluId && email && password) {
                handleRegister(username, email, kluId);
            } else {
                showToast('Please fill all fields', 'warning');
            }
        }
        
        function handleAuthTabClick() {
            const tabId = this.dataset.tab;
            
            // Update active tab
            document.querySelectorAll('.auth-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            this.classList.add('active');
            
            // Show corresponding form
            document.querySelectorAll('.auth-form').forEach(form => {
                form.classList.remove('active');
            });
            document.getElementById(`${tabId}-form`).classList.add('active');
        }
        
        function handleRefresh() {
            const activeZone = document.querySelector('.zone-link.active')?.dataset.zone || 'A';
            renderParkingGrid(activeZone);
            showToast('Parking availability updated!', 'info');
        }
        
        function handleQuickReserve() {
            if (!appState.isLoggedIn) {
                showToast('Please login to make a reservation', 'warning');
                showAuthModal();
                return;
            }
            
            showLoading();
            setTimeout(() => {
                hideLoading();
                const availableSpot = findAvailableSpot();
                if (availableSpot) {
                    fillQuickReservation(availableSpot);
                    showToast('Quick reservation prepared! Spot selected in form.', 'success');
                } else {
                    showToast('No available spots found in current zone', 'warning');
                }
            }, 1000);
        }
        
        function handleFindBestSpot() {
            const bestSpot = findBestSpot();
            if (bestSpot) {
                selectParkingSpot(bestSpot);
                showToast(`Best spot selected: ${bestSpot}`, 'success');
            } else {
                showToast('No available spots found', 'warning');
            }
        }
        
        function handleViewMap() {
            const parkingMapLink = document.querySelector('.nav-link[data-section="parking-map"]');
            if (parkingMapLink) parkingMapLink.click();
        }
        
        function handleNotificationClick() {
            showToast(`You have ${appState.notifications} unread notifications`, 'info');
        }
        
        function handleNewReservation() {
            const dashboardLink = document.querySelector('.nav-link[data-section="dashboard"]');
            if (dashboardLink) dashboardLink.click();
            setTimeout(() => {
                document.getElementById('reservation-form').scrollIntoView({ behavior: 'smooth' });
            }, 500);
        }
        
        function handleContactSupport() {
            showToast('Support team will contact you shortly! Check your email for updates.', 'info');
        }
        
        function handleExportHistory() {
            showToast('Parking history exported successfully! Check your downloads.', 'success');
        }
        
        function handleViewAllHistory(e) {
            e.preventDefault();
            const historyLink = document.querySelector('.sidebar-link[data-section="history"]');
            if (historyLink) historyLink.click();
        }
        
        function handleAddPaymentMethod() {
            showToast('Payment method feature coming soon!', 'info');
        }
        
        function handleLearnMore() {
            const helpLink = document.querySelector('.nav-link[data-section="help"]');
            if (helpLink) helpLink.click();
        }
        
        function handleFAQClick() {
            const answer = this.nextElementSibling;
            const icon = this.querySelector('i');
            
            if (answer.style.display === 'block') {
                answer.style.display = 'none';
                icon.className = 'fas fa-chevron-down';
            } else {
                answer.style.display = 'block';
                icon.className = 'fas fa-chevron-up';
            }
        }
        
        function handleCancelReservation(e) {
            e.stopPropagation();
            const row = this.closest('tr');
            const reservationId = row.cells[0].textContent;
            
            if (confirm(`Are you sure you want to cancel reservation ${reservationId}?`)) {
                showLoading();
                setTimeout(() => {
                    hideLoading();
                    
                    // Find reservation in state
                    const reservationIndex = appState.reservations.findIndex(r => r.id === reservationId);
                    if (reservationIndex !== -1) {
                        const reservation = appState.reservations[reservationIndex];
                        
                        // Update parking spot status
                        const zone = reservation.spot.charAt(0);
                        const parkingSpot = appState.parkingData[zone].find(spot => spot.id === reservation.spot);
                        if (parkingSpot) {
                            parkingSpot.status = 'available';
                        }
                        
                        // Remove reservation
                        appState.reservations.splice(reservationIndex, 1);
                        
                        // Update UI
                        renderParkingGrid(zone);
                        renderReservations();
                        updateSidebarStats();
                        
                        showToast(`Reservation ${reservationId} cancelled successfully!`, 'success');
                    } else {
                        // Remove from UI if not in state
                        row.remove();
                        showToast('Reservation cancelled!', 'success');
                    }
                }, 1000);
            }
        }
        
        function handleParkingSpotClick(spot) {
            const spotId = spot.dataset.spotId;
            const status = spot.classList.contains('available') ? 'available' : 
                          spot.classList.contains('occupied') ? 'occupied' : 'reserved';
            
            if (status === 'available') {
                selectParkingSpot(spotId);
                showToast(`Selected spot: ${spotId}. Fill the form to reserve.`, 'success');
            } else {
                showToast(`Spot ${spotId} is ${status}`, 'warning');
            }
        }
        
        function renderParkingGrid(zone) {
            const grid = document.getElementById('parking-grid');
            if (!grid) return;
            
            grid.innerHTML = '';
            
            const spots = appState.parkingData[zone];
            spots.forEach(spot => {
                const spotElement = document.createElement('div');
                spotElement.className = `parking-spot ${spot.status}`;
                spotElement.dataset.spotId = spot.id;
                spotElement.innerHTML = `
                    <div class="spot-number">${spot.id}</div>
                    <div class="spot-zone">Zone ${zone}</div>
                    <div class="spot-status ${spot.status}">
                        ${spot.status.charAt(0).toUpperCase() + spot.status.slice(1)}
                    </div>
                `;
                grid.appendChild(spotElement);
            });
        }
        
        function renderRecentActivity() {
            const tbody = document.getElementById('recent-activity');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            
            demoData.recentActivity.forEach(activity => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${activity.date}</td>
                    <td><strong>${activity.spot}</strong></td>
                    <td>${activity.duration}</td>
                    <td>${activity.zone}</td>
                    <td><span class="spot-status available">${activity.status}</span></td>
                `;
                tbody.appendChild(row);
            });
        }
        
        function renderReservations() {
            const tbody = document.getElementById('reservations-list');
            if (!tbody) return;
            
            // Clear existing rows except the first three demo rows
            const existingRows = tbody.querySelectorAll('tr');
            if (existingRows.length > 3) {
                for (let i = 3; i < existingRows.length; i++) {
                    existingRows[i].remove();
                }
            }
            
            // Add reservations from state
            appState.reservations.forEach(reservation => {
                let statusClass = 'occupied';
                if (reservation.status === 'upcoming') statusClass = 'reserved';
                else if (reservation.status === 'active') statusClass = 'available';
                
                let actionButton = '';
                if (reservation.status === 'upcoming') {
                    actionButton = '<button type="button" class="btn btn-outline cancel-btn action-btn-small"><i class="fas fa-times"></i> Cancel</button>';
                } else if (reservation.status === 'active') {
                    actionButton = '<button type="button" class="btn btn-outline action-btn-small"><i class="fas fa-eye"></i> View</button>';
                } else {
                    actionButton = '<button type="button" class="btn btn-outline action-btn-small"><i class="fas fa-receipt"></i> Invoice</button>';
                }
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><strong>${reservation.id}</strong></td>
                    <td>${reservation.date}</td>
                    <td>${reservation.time}</td>
                    <td>${reservation.spot}</td>
                    <td>${reservation.duration}</td>
                    <td>${reservation.zone}</td>
                    <td><span class="spot-status ${statusClass}">${reservation.status}</span></td>
                    <td>${actionButton}</td>
                `;
                tbody.appendChild(row);
            });
            
            // Reattach event listeners to cancel buttons
            setTimeout(() => {
                document.querySelectorAll('.cancel-btn').forEach(button => {
                    button.addEventListener('click', handleCancelReservation);
                });
            }, 100);
        }
        
        function renderParkingHistory() {
            const tbody = document.getElementById('parking-history');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            
            demoData.recentActivity.forEach(history => {
                let vehicleType = 'KLU-1234';
                if (history.zone === 'Zone B') vehicleType = 'FAC-5678';
                else if (history.zone === 'Zone C') vehicleType = 'VIS-8899';
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${history.date}</td>
                    <td>${history.duration.replace(' hours', ':00')}</td>
                    <td><strong>${history.spot}</strong></td>
                    <td>${history.duration}</td>
                    <td>${history.zone}</td>
                    <td>${vehicleType}</td>
                    <td><span class="spot-status occupied">completed</span></td>
                `;
                tbody.appendChild(row);
            });
        }
        
        function renderPayments() {
            // This would normally fetch payment data
            // For demo, we just show/hide based on login
            const noPaymentSection = document.querySelector('.no-payment-section');
            if (appState.isLoggedIn) {
                noPaymentSection.style.display = 'none';
            } else {
                noPaymentSection.style.display = 'block';
            }
        }
        
        function updateSidebarStats() {
            let available = 0;
            let occupied = 0;
            
            Object.values(appState.parkingData).forEach(zoneSpots => {
                zoneSpots.forEach(spot => {
                    if (spot.status === 'available') available++;
                    if (spot.status === 'occupied') occupied++;
                });
            });
            
            const sidebarAvailable = document.getElementById('sidebar-available');
            const sidebarOccupied = document.getElementById('sidebar-occupied');
            
            if (sidebarAvailable) sidebarAvailable.textContent = available;
            if (sidebarOccupied) sidebarOccupied.textContent = occupied;
        }
        
        function findAvailableSpot() {
            const activeZone = document.querySelector('.zone-link.active')?.dataset.zone || 'A';
            const spot = appState.parkingData[activeZone].find(spot => spot.status === 'available');
            return spot ? spot.id : null;
        }
        
        function findBestSpot() {
            const activeZone = document.querySelector('.zone-link.active')?.dataset.zone || 'A';
            const availableSpots = appState.parkingData[activeZone].filter(spot => spot.status === 'available');
            return availableSpots.length > 0 ? availableSpots[0].id : null;
        }
        
        function selectParkingSpot(spotId) {
            const zone = spotId.charAt(0);
            const zoneSelect = document.getElementById('zone');
            if (zoneSelect) {
                zoneSelect.value = zone;
            }
            
            // Highlight selected spot
            document.querySelectorAll('.parking-spot').forEach(spot => {
                spot.style.borderColor = spot.dataset.spotId === spotId ? 'var(--secondary)' : 'transparent';
            });
        }
        
        function fillQuickReservation(spotId) {
            const zone = spotId.charAt(0);
            const zoneSelect = document.getElementById('zone');
            if (zoneSelect) {
                zoneSelect.value = zone;
            }
            
            const now = new Date();
            const startTime = new Date(now.getTime() + 10 * 60000);
            const endTime = new Date(startTime.getTime() + 2 * 60 * 60000);
            
            const startTimeInput = document.getElementById('start-time');
            const endTimeInput = document.getElementById('end-time');
            if (startTimeInput && endTimeInput) {
                startTimeInput.value = startTime.toTimeString().substring(0,5);
                endTimeInput.value = endTime.toTimeString().substring(0,5);
            }
            
            selectParkingSpot(spotId);
        }
        
        function showAuthModal() {
            document.getElementById('auth-modal').classList.add('active');
        }
        
        function hideAuthModal() {
            document.getElementById('auth-modal').classList.remove('active');
        }
        
        function handleLogin(username) {
            showLoading();
            setTimeout(() => {
                hideLoading();
                hideAuthModal();
                
                appState.isLoggedIn = true;
                appState.currentUser = { ...demoData.user, username: username || demoData.user.username };
                appState.reservations = [...demoData.reservations];
                
                updateUIAfterLogin();
                showToast(`Login successful! Welcome ${appState.currentUser.username}`, 'success');
            }, 1000);
        }
        
        function handleRegister(username, email, kluId) {
            showLoading();
            setTimeout(() => {
                hideLoading();
                hideAuthModal();
                
                appState.isLoggedIn = true;
                appState.currentUser = { 
                    username: username, 
                    email: email,
                    kluId: kluId,
                    phone: '',
                    type: 'student'
                };
                
                updateUIAfterLogin();
                showToast(`Registration successful! Welcome ${username}`, 'success');
            }, 1000);
        }
        
        function handleLogout() {
            appState.isLoggedIn = false;
            appState.currentUser = null;
            appState.reservations = [];
            
            updateUIAfterLogout();
            showToast('Logged out successfully', 'info');
        }
        
        function updateUIAfterLogin() {
            const usernameDisplay = document.getElementById('username-display');
            const loginBtn = document.getElementById('login-btn');
            
            if (usernameDisplay && appState.currentUser) {
                usernameDisplay.textContent = appState.currentUser.username;
            }
            
            if (loginBtn) {
                loginBtn.innerHTML = '<i class="fas fa-sign-out-alt"></i> Logout';
            }
            
            // Update settings form
            const usernameSettings = document.getElementById('username-settings');
            const emailSettings = document.getElementById('email-settings');
            const phoneSettings = document.getElementById('phone-settings');
            const kluIdSettings = document.getElementById('klu-id-settings');
            const userTypeSettings = document.getElementById('user-type-settings');
            
            if (usernameSettings && appState.currentUser) usernameSettings.value = appState.currentUser.username;
            if (emailSettings && appState.currentUser) emailSettings.value = appState.currentUser.email;
            if (phoneSettings && appState.currentUser) phoneSettings.value = appState.currentUser.phone || '';
            if (kluIdSettings && appState.currentUser) kluIdSettings.value = appState.currentUser.kluId || '';
            if (userTypeSettings && appState.currentUser) userTypeSettings.value = appState.currentUser.type;
            
            // Update welcome message
            const welcomeMessage = document.querySelector('#welcome-message .welcome-text');
            if (welcomeMessage && appState.currentUser) {
                welcomeMessage.textContent = `Welcome back, ${appState.currentUser.username}! Reserve your parking spot in advance and enjoy hassle-free parking on campus.`;
            }
            
            // Auto-fill KLU ID in reservation form
            const kluIdInput = document.getElementById('klu-id');
            if (kluIdInput && appState.currentUser && appState.currentUser.kluId) {
                kluIdInput.value = appState.currentUser.kluId;
            }
            
            // Load user data
            renderReservations();
            renderParkingHistory();
            renderPayments();
        }
        
        function updateUIAfterLogout() {
            const usernameDisplay = document.getElementById('username-display');
            const loginBtn = document.getElementById('login-btn');
            
            if (usernameDisplay) usernameDisplay.textContent = 'Login';
            if (loginBtn) loginBtn.innerHTML = '<i class="fas fa-user"></i> Login';
            
            // Reset welcome message
            const welcomeMessage = document.querySelector('#welcome-message .welcome-text');
            if (welcomeMessage) {
                welcomeMessage.textContent = 'Reserve your parking spot in advance and enjoy seamless parking experience across campus. Login to access all premium features.';
            }
            
            // Clear KLU ID in reservation form
            const kluIdInput = document.getElementById('klu-id');
            if (kluIdInput) {
                kluIdInput.value = '';
            }
            
            // Clear user data displays
            const reservationsList = document.getElementById('reservations-list');
            if (reservationsList) {
                const rows = reservationsList.querySelectorAll('tr');
                if (rows.length > 3) {
                    for (let i = 3; i < rows.length; i++) {
                        rows[i].remove();
                    }
                }
            }
            
            // Go back to dashboard
            const dashboardLink = document.querySelector('.nav-link[data-section="dashboard"]');
            if (dashboardLink) dashboardLink.click();
        }
        
        function showToast(message, type = 'info') {
            const toast = document.getElementById('toast');
            if (!toast) return;
            
            toast.textContent = message;
            toast.className = `toast ${type}`;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }
        
        function showLoading() {
            document.getElementById('loading-modal').classList.add('active');
        }
        
        function hideLoading() {
            document.getElementById('loading-modal').classList.remove('active');
        }
        
        function setupBackToTop() {
            const backToTopBtn = document.getElementById('back-to-top');
            
            window.addEventListener('scroll', () => {
                if (window.pageYOffset > 300) {
                    backToTopBtn.style.display = 'flex';
                } else {
                    backToTopBtn.style.display = 'none';
                }
            });
            
            backToTopBtn.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        }
        
        // Close modals when clicking outside
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal')) {
                e.target.classList.remove('active');
            }
        });
        
        // Initialize the application when DOM is loaded
        document.addEventListener('DOMContentLoaded', initializeApp);
        
        // Add ripple effect to buttons
        document.addEventListener('click', function(e) {
            if (e.target.closest('.btn')) {
                const button = e.target.closest('.btn');
                const ripple = document.createElement('span');
                const rect = button.getBoundingClientRect();
                const size = Math.max(rect.width, rect.height);
                const x = e.clientX - rect.left - size / 2;
                const y = e.clientY - rect.top - size / 2;
                
                ripple.style.cssText = `
                    position: absolute;
                    border-radius: 50%;
                    background: rgba(255, 255, 255, 0.5);
                    transform: scale(0);
                    animation: ripple 0.6s linear;
                    width: ${size}px;
                    height: ${size}px;
                    top: ${y}px;
                    left: ${x}px;
                `;
                
                button.appendChild(ripple);
                
                setTimeout(() => {
                    ripple.remove();
                }, 600);
            }
        });
        
        // Add CSS for ripple animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes ripple {
                to {
                    transform: scale(4);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);
        // Update the JavaScript section in park.html with this:
            // Configuration
            const API_BASE_URL = 'http://localhost:3000/api';
            const appState = {
                isLoggedIn: false,
                currentUser: null,
                authToken: null,
                currentZone: 'A'
            };
            
            // Initialize the application
            async function initializeApp() {
                // Initialize date fields
                const today = new Date().toISOString().split('T')[0];
                const dateInput = document.getElementById('date');
                if (dateInput) {
                    dateInput.min = today;
                    dateInput.value = today;
                }
                
                // Set default times
                const now = new Date();
                const startTime = new Date(now.getTime() + 30 * 60000);
                const endTime = new Date(startTime.getTime() + 3 * 60 * 60000);
                
                const startTimeInput = document.getElementById('start-time');
                const endTimeInput = document.getElementById('end-time');
                if (startTimeInput && endTimeInput) {
                    startTimeInput.value = startTime.toTimeString().substring(0,5);
                    endTimeInput.value = endTime.toTimeString().substring(0,5);
                }
                
                // Load initial data
                await loadInitialData();
                
                // Setup event listeners
                setupEventListeners();
                
                // Setup back to top button
                setupBackToTop();
                
                // Show welcome message
                showToast('Welcome to KL University Smart Parking System!', 'info');
            }
            
            async function loadInitialData() {
                try {
                    // Load parking spots for default zone
                    await loadParkingSpots('A');
                    
                    // Load zone statistics
                    await loadZoneStatistics();
                    
                    // Load statistics
                    await loadStatistics();
                    
                    // Load recent activity
                    await loadRecentActivity();
                    
                } catch (error) {
                    console.error('Error loading initial data:', error);
                    showToast('Error loading data. Please try again.', 'error');
                }
            }
            
            async function loadParkingSpots(zone) {
                try {
                    const response = await fetch(`${API_BASE_URL}/parking/${zone}`);
                    if (!response.ok) throw new Error('Failed to load parking spots');
                    
                    const spots = await response.json();
                    renderParkingGrid(zone, spots);
                } catch (error) {
                    console.error('Error loading parking spots:', error);
                    // Fallback to mock data
                    renderParkingGrid(zone, generateMockSpots(zone));
                }
            }
            
            async function loadZoneStatistics() {
                try {
                    const response = await fetch(`${API_BASE_URL}/zones`);
                    if (!response.ok) throw new Error('Failed to load zone statistics');
                    
                    const zones = await response.json();
                    updateZoneInfo(zones);
                } catch (error) {
                    console.error('Error loading zone statistics:', error);
                }
            }
            
            async function loadStatistics() {
                try {
                    const response = await fetch(`${API_BASE_URL}/statistics`);
                    if (!response.ok) throw new Error('Failed to load statistics');
                    
                    const stats = await response.json();
                    updateStatistics(stats);
                } catch (error) {
                    console.error('Error loading statistics:', error);
                }
            }
            
            async function loadRecentActivity() {
                if (appState.isLoggedIn && appState.currentUser) {
                    try {
                        const response = await fetch(`${API_BASE_URL}/reservations/${appState.currentUser.id}`);
                        if (!response.ok) throw new Error('Failed to load reservations');
                        
                        const reservations = await response.json();
                        renderRecentActivity(reservations.slice(0, 5)); // Show only 5 most recent
                    } catch (error) {
                        console.error('Error loading recent activity:', error);
                    }
                }
            }
            
            // ... Rest of your existing JavaScript functions with API calls ...
            
            // Example of updated handleReservationSubmit function:
            async function handleReservationSubmit(e) {
                e.preventDefault();
                
                if (!appState.isLoggedIn) {
                    showToast('Please login to make a reservation', 'warning');
                    showAuthModal();
                    return;
                }
                
                // Collect form data
                const formData = {
                    zone: document.getElementById('zone').value,
                    spotId: selectedSpot || findAvailableSpot(),
                    date: document.getElementById('date').value,
                    startTime: document.getElementById('start-time').value,
                    endTime: document.getElementById('end-time').value,
                    userId: appState.currentUser.id,
                    vehicle: document.getElementById('vehicle').value,
                    kluId: document.getElementById('klu-id').value
                };
                
                if (!formData.spotId) {
                    showToast('Please select a parking spot', 'warning');
                    return;
                }
                
                showLoading();
                
                try {
                    const response = await fetch(`${API_BASE_URL}/reservations`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${appState.authToken}`
                        },
                        body: JSON.stringify(formData)
                    });
                    
                    const result = await response.json();
                    
                    if (!response.ok) {
                        throw new Error(result.error || 'Failed to make reservation');
                    }
                    
                    hideLoading();
                    
                    // Update UI
                    await loadParkingSpots(formData.zone);
                    await loadStatistics();
                    await loadRecentActivity();
                    
                    showToast(result.message, 'success');
                    
                    // Reset form
                    e.target.reset();
                    
                } catch (error) {
                    hideLoading();
                    showToast(error.message, 'error');
                }
            }
            
            // ... Add similar API calls for other functions ...
            
            // Initialize when DOM is loaded
            document.addEventListener('DOMContentLoaded', initializeApp);
    </script>
</body>
</html>